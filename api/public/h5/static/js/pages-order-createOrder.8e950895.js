(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-createOrder"],{"1bd0":function(t,e,i){"use strict";i.r(e);var a=i("f3ad"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"2f33":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-0d4f6d47]{background:#f8f8f8;padding-bottom:%?100?%}.black .container[data-v-0d4f6d47]{background-color:#000;position:fixed;top:0;opacity:.6;width:100%;height:100%;z-index:999}.t_con[data-v-0d4f6d47]{background-color:#fff;position:fixed;top:120px;left:10%;width:80%;padding:20px;border-radius:5px;z-index:1999;overflow:hidden}.t_con .t_c_tit[data-v-0d4f6d47]{font-size:16px;text-align:center;font-weight:600;padding-bottom:10px}.t_con .t_c_con[data-v-0d4f6d47]{font-size:14px;max-height:280px;min-height:120px;overflow-y:scroll;width:100%;overflow-x:hidden}.t_con .t_c_more[data-v-0d4f6d47]{text-align:center;color:#868686;padding:15px 0 10px;font-size:14px}.t_con .t_c_more span[data-v-0d4f6d47]{color:#4b73ce}.t_con .t_c_btn[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.t_con .t_c_btn .t_c_btn_01[data-v-0d4f6d47]{height:35px;line-height:35px;color:#fff;border-radius:20px;text-align:center;width:47%;font-size:14px;margin-top:10px}.t_con .t_c_btn .bg_red[data-v-0d4f6d47]{background-color:#ff7900}.t_con .t_c_btn .bg_gery[data-v-0d4f6d47]{background-color:#ccc}.tuanzhang[data-v-0d4f6d47]{background:#fff;margin-top:10px;padding:10px;display:-webkit-box;display:-webkit-flex;display:flex;font-size:12px}.tuanzhang .tz-l[data-v-0d4f6d47]{width:30px}.tuanzhang .tz-l uni-input[data-v-0d4f6d47]{border:1px solid #000}.tuanzhang .tz-m[data-v-0d4f6d47]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;color:#ff8d42;padding-top:2px}.tuanzhang .tz-r[data-v-0d4f6d47]{padding-top:3px}.jr[data-v-0d4f6d47]{padding:10px;font-size:14px}.jr .jr_tit[data-v-0d4f6d47]{font-weight:600;text-align:center;padding-bottom:10px}.jr .jr_img[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.jr .jr_img .img_01[data-v-0d4f6d47]{position:relative;border-radius:50%;margin:0 7px;width:44px;height:44px}.jr .jr_img .img_01 img[data-v-0d4f6d47]{width:40px;height:40px;border-radius:50%}.jr .jr_img .img_01 .zhicheng[data-v-0d4f6d47]{position:absolute;bottom:-5px;left:0;background-color:#e93b3d;color:#fff;font-size:12px;border-radius:10px;width:40px;text-align:center}.jr .jr_img .img_01_border[data-v-0d4f6d47]{border:2px solid #e93b3d}.jr .jr_img .img_01_borderx[data-v-0d4f6d47]{border:2px dashed #e6e6e6;text-align:center;line-height:44px;color:#e6e6e6}.address-section[data-v-0d4f6d47]{padding:%?30?% 0;background:#fff;position:relative}.address-section .order-content[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.address-section .icon-shouhuodizhi[data-v-0d4f6d47]{-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?90?%;color:#888;font-size:%?44?%}.address-section .cen[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#303133}.address-section .name[data-v-0d4f6d47]{font-size:%?34?%;margin-right:%?24?%}.address-section .address[data-v-0d4f6d47]{margin-top:%?16?%;margin-right:%?20?%;color:#909399}.address-section .icon-you[data-v-0d4f6d47]{font-size:%?32?%;color:#909399;margin-right:%?30?%}.address-section .a-bg[data-v-0d4f6d47]{position:absolute;left:0;bottom:0;display:block;width:100%;height:%?5?%}.goods-section[data-v-0d4f6d47]{margin-top:%?16?%;background:#fff;padding-bottom:1px}.goods-section .g-header[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?84?%;padding:0 %?30?%;position:relative}.goods-section .logo[data-v-0d4f6d47]{display:block;width:%?50?%;height:%?50?%;border-radius:100px}.goods-section .name[data-v-0d4f6d47]{font-size:%?30?%;color:#606266;margin-left:%?24?%}.goods-section .g-item[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?20?% %?30?%}.goods-section .g-item uni-image[data-v-0d4f6d47]{-webkit-flex-shrink:0;flex-shrink:0;display:block;width:%?140?%;height:%?140?%;border-radius:%?4?%}.goods-section .g-item .right[data-v-0d4f6d47]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?24?%;overflow:hidden}.goods-section .g-item .title[data-v-0d4f6d47]{font-size:%?30?%;color:#303133}.goods-section .g-item .spec[data-v-0d4f6d47]{font-size:%?26?%;color:#909399}.goods-section .g-item .price-box[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;color:#303133;padding-top:%?10?%}.goods-section .g-item .price-box .price[data-v-0d4f6d47]{margin-bottom:%?4?%}.goods-section .g-item .price-box .number[data-v-0d4f6d47]{font-size:%?26?%;color:#606266;margin-left:%?20?%}.goods-section .g-item .step-box[data-v-0d4f6d47]{position:relative}.yt-list[data-v-0d4f6d47]{margin-top:%?16?%;background:#fff}.yt-list-cell[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-0d4f6d47]{background:#fafafa}.yt-list-cell.b-b[data-v-0d4f6d47]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-0d4f6d47]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-0d4f6d47]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-0d4f6d47]{background:#3ab54a}.yt-list-cell .cell-more[data-v-0d4f6d47]{-webkit-align-self:center;align-self:center;font-size:%?24?%;color:#909399;margin-left:%?8?%;margin-right:%?-10?%}.yt-list-cell .cell-tit[data-v-0d4f6d47]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?26?%;color:#909399;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-0d4f6d47]{font-size:%?26?%;color:#303133}.yt-list-cell .cell-tip.disabled[data-v-0d4f6d47]{color:#909399}.yt-list-cell .cell-tip.active[data-v-0d4f6d47]{color:#fa436a}.yt-list-cell .cell-tip.red[data-v-0d4f6d47]{color:#fa436a}.yt-list-cell.desc-cell .cell-tit[data-v-0d4f6d47]{max-width:%?90?%}.yt-list-cell .desc[data-v-0d4f6d47]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#303133}\n/* 支付列表 */.pay-list[data-v-0d4f6d47]{padding-left:%?40?%;margin-top:%?16?%;background:#fff}.pay-list .pay-item[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-right:%?20?%;line-height:1;height:%?110?%;position:relative}.pay-list .icon-weixinzhifu[data-v-0d4f6d47]{width:%?80?%;font-size:%?40?%;color:#6bcc03}.pay-list .icon-alipay[data-v-0d4f6d47]{width:%?80?%;font-size:%?40?%;color:#06b4fd}.pay-list .icon-xuanzhong2[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?60?%;height:%?60?%;font-size:%?40?%;color:#fa436a}.pay-list .tit[data-v-0d4f6d47]{font-size:%?32?%;color:#303133;-webkit-box-flex:1;-webkit-flex:1;flex:1}.footer[data-v-0d4f6d47]{position:fixed;left:0;bottom:0;z-index:995;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?90?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?30?%;background-color:#fff;z-index:998;color:#606266;box-shadow:0 -1px 5px rgba(0,0,0,.1)}.footer .price-content[data-v-0d4f6d47]{padding-left:%?30?%}.footer .price-tip[data-v-0d4f6d47]{color:#fa436a;margin-left:%?8?%}.footer .price[data-v-0d4f6d47]{font-size:%?36?%;color:#fa436a}.footer .submit[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?280?%;height:100%;color:#fff;font-size:%?32?%;background-color:#fa436a}\n/* 优惠券面板 */.mask[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;position:fixed;left:0;top:var(--window-top);bottom:0;width:100%;background:transparent;z-index:9995;-webkit-transition:.3s;transition:.3s}.mask .mask-content[data-v-0d4f6d47]{width:100%;min-height:30vh;max-height:70vh;padding:20px 0 60px;background:#f3f3f3;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:.3s;transition:.3s;overflow-y:scroll}.mask .btn[data-v-0d4f6d47]{position:fixed;bottom:0;width:95%;text-align:center;border:1px solid #fa436a;background-color:#fa436a;color:#fff;border-radius:20px;margin:10px;padding:5px}.mask.none[data-v-0d4f6d47]{display:none}.mask.show[data-v-0d4f6d47]{background:rgba(0,0,0,.4)}.mask.show .mask-content[data-v-0d4f6d47]{-webkit-transform:translateY(0);transform:translateY(0)}.scroll[data-v-0d4f6d47]{max-height:55vh}\n/* 优惠券列表 */.coupon-item[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin:%?3?% %?24?%;background:#fff}.coupon-item .con[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;height:%?120?%;padding:0 %?30?%\n    /* &:after {\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\tbottom: 10;\n\t\t\tcontent: \'\';\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder-bottom: 1px dashed #f3f3f3;\n\t\t\ttransform: scaleY(50%);\n\t\t} */}.coupon-item .left[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;height:%?100?%}.coupon-item .title[data-v-0d4f6d47]{font-size:%?32?%;color:#303133;margin-bottom:%?10?%}.coupon-item .time[data-v-0d4f6d47]{font-size:%?24?%;color:#909399}.coupon-item .right[data-v-0d4f6d47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?26?%;color:#606266;height:%?100?%}.coupon-item .price[data-v-0d4f6d47]{font-size:%?44?%;color:#fa436a}.coupon-item .price[data-v-0d4f6d47]:before{content:"\\FFE5";font-size:%?34?%}.coupon-item .tips[data-v-0d4f6d47]{font-size:%?24?%;color:#909399;line-height:%?60?%;white-space:nowrap;padding-left:%?30?%}.coupon-item .tips2[data-v-0d4f6d47]{font-size:%?24?%;color:#909399;line-height:%?50?%;height:%?50?%;text-align:center;margin:%?5?% 10px 0 0;width:80px;border:1px solid #fa436a;background-color:#fa436a;color:#fff;border-radius:25px}.coupon-item .circle[data-v-0d4f6d47]{position:absolute;left:%?-6?%;bottom:%?-10?%;z-index:10;width:%?20?%;height:%?20?%;background:#f3f3f3;border-radius:100px}.coupon-item .circle.r[data-v-0d4f6d47]{left:auto;right:%?-6?%}body.?%PAGE?%[data-v-0d4f6d47]{background:#f8f8f8}',""])},"4e1d":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-navigator",{staticClass:"address-section",attrs:{url:"/pages/address/address?source=1"}},[i("v-uni-view",{staticClass:"order-content"},[i("v-uni-text",{staticClass:"yticon icon-shouhuodizhi"}),t.address?i("v-uni-view",{staticClass:"cen"},[i("v-uni-view",{staticClass:"top"},[i("v-uni-text",{staticClass:"name"},[t._v(t._s(t.address.name))]),i("v-uni-text",{staticClass:"mobile"},[t._v(t._s(t.address.mobile))])],1),i("v-uni-text",{staticClass:"address"},[t._v(t._s(t.address.province)+" "+t._s(t.address.city)+t._s(t.address.county))])],1):t._e(),i("v-uni-text",{staticClass:"yticon icon-you"})],1)],1),1!=t.is_kai&&1==t.is_pt?i("v-uni-view",{staticClass:"tuanzhang"},[i("v-uni-view",{staticClass:"tz-l"},[i("v-uni-checkbox-group",[i("v-uni-label",[i("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)"},attrs:{value:"cb"}})],1)],1)],1),i("v-uni-view",{staticClass:"tz-m"},[t._v("该团由团长代收包裹（免运费）")]),i("v-uni-view",{staticClass:"tz-r"},[t._v("团长：123")])],1):t._e(),i("v-uni-view",{staticClass:"goods-section"},t._l(t.buy_data,function(e,a){return i("v-uni-view",{key:a,staticClass:"g-item"},[i("v-uni-image",{attrs:{src:t.getimg+e.imgs}}),i("v-uni-view",{staticClass:"right"},[i("v-uni-text",{staticClass:"title clamp"},[t._v(t._s(e.goods_name))]),i("v-uni-text",{staticClass:"spec"},[t._v(t._s(e.sku_name?e.sku_name:""))]),i("v-uni-view",{staticClass:"price-box"},[e.vip_price?i("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(e.price-e.vip_price))]):i("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),i("v-uni-text",{staticClass:"number"},[t._v("x "+t._s(e.num))])],1)],1)],1)}),1),1==t.is_pt?i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"jr"},[i("v-uni-view",{staticClass:"jr_tit"},[t._v("为您加入仅差"+t._s(t.pt_data.num)+"人的团，支付后即可拼购成功")]),i("v-uni-view",{staticClass:"jr_img"},[i("v-uni-view",{staticClass:"img_01 img_01_border"},[i("img",{attrs:{src:t.pt_data.c_pic}}),i("v-uni-view",{staticClass:"zhicheng"},[t._v("团长")])],1),t._l(t.pt_data.item_pic,function(t){return i("v-uni-view",{staticClass:"img_01"},[i("img",{attrs:{src:t}})])}),i("v-uni-view",{staticClass:"img_01"},[i("img",{attrs:{src:t.head.avatarUrl}}),i("v-uni-view",{staticClass:"zhicheng"},[t._v("待支付")])],1)],2)],1)],1):t._e(),1==t.is_kai?i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"jr"},[i("v-uni-view",{staticClass:"jr_tit"},[t._v("立即支付，即可开团成功")]),i("v-uni-view",{staticClass:"jr_img"},[i("v-uni-view",{staticClass:"img_01 img_01_border"},[i("img",{attrs:{src:t.head.avatarUrl}}),i("v-uni-view",{staticClass:"zhicheng"},[t._v("待支付")])],1),t._l(t.buy_data[0].pt.pt.user_num-1,function(e,a){return i("v-uni-view",{key:a,staticClass:"img_01 img_01_borderx"},[t._v("?")])})],2)],1)],1):t._e(),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell b-b",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleMask("show")}}},[i("v-uni-view",{staticClass:"cell-icon"},[t._v("券")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("优惠券")]),i("v-uni-text",{staticClass:"cell-tip active"},[t._v(t._s(t.coupon_text))]),i("v-uni-text",{staticClass:"cell-more wanjia wanjia-gengduo-d"})],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("商品金额")]),i("v-uni-text",{staticClass:"cell-tip"},[t._v("￥"+t._s(t.goods_money))])],1),t.coupon_money>0?i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("优惠金额")]),i("v-uni-text",{staticClass:"cell-tip red"},[t._v("-￥"+t._s(t.coupon_money))])],1):t._e(),i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("运费")]),t.yunfei_money?i("v-uni-text",{staticClass:"cell-tip"},[t._v("￥ "+t._s(t.yunfei_money))]):i("v-uni-text",{staticClass:"cell-tip"},[t._v("免运费")])],1),t.invoice_switch?i("v-uni-view",{staticClass:"yt-list-cell b-b",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jump_invoices.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("发票")]),i("v-uni-text",{staticClass:"cell-tip"},[t._v("不开发票")]),i("v-uni-text",{staticClass:"yticon icon-you"})],1):t._e(),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("备注")]),i("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"请填写备注信息","placeholder-class":"placeholder"},model:{value:t.obj.msg,callback:function(e){t.$set(t.obj,"msg",e)},expression:"obj.msg"}})],1)],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"price-content"},[i("v-uni-text",[t._v("实付款")]),i("v-uni-text",{staticClass:"price-tip"},[t._v("￥")]),i("v-uni-text",{staticClass:"price"},[t._v(t._s(t.pay_money))])],1),i("v-uni-text",{staticClass:"submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交订单")])],1),i("v-uni-view",{staticClass:"mask",class:0===t.maskState?"none":1===t.maskState?"show":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleMask.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"mask-content"},[i("v-uni-scroll-view",{staticClass:"scroll",attrs:{"scroll-y":!0}},t._l(t.couponList,function(e,a){return i("v-uni-view",{key:a,staticClass:"coupon-item"},[0==e.status?[i("v-uni-view",{staticClass:"con"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"title"},[t._v("满"+t._s(e.full)+"减"+t._s(e.reduce))])],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-text",{staticClass:"price"},[t._v(t._s(e.reduce))])],1),i("v-uni-view",{staticClass:"circle l"}),i("v-uni-view",{staticClass:"circle r"})],1),i("v-uni-view",{staticClass:"use",staticStyle:{display:"flex","justify-content":"space-between"}},[i("v-uni-text",{staticClass:"tips"},[t._v("有效期至"+t._s(e.end_time))]),i("v-uni-view",{staticClass:"tips2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.to_use(a)}}},[t._v("去使用")])],1)]:t._e()],2)}),1),i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel_use.apply(void 0,arguments)}}},[t._v("不使用优惠券")])],1)],1),t.xieyi?i("v-uni-view",{staticClass:"tan"},[i("div",{staticClass:"black"},[i("div",{staticClass:"container"})]),i("v-uni-view",{staticClass:"t_con"},[i("v-uni-view",{staticClass:"t_c_con"},[i("v-uni-rich-text",{attrs:{nodes:t.content}})],1),i("v-uni-view",{staticClass:"t_c_btn"},[i("v-uni-view",{staticClass:"t_c_btn_01 bg_gery",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.xy_approve(!1)}}},[t._v("不同意")]),i("v-uni-view",{staticClass:"t_c_btn_01 bg_red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.xy_approve(!0)}}},[t._v("同意")])],1)],1)],1):t._e()],1)},s=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"a",function(){return a})},"622f":function(t,e,i){"use strict";i.r(e);var a=i("4e1d"),n=i("1bd0");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("d7c0");var o,d=i("f0c5"),c=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"0d4f6d47",null,!1,a["a"],o);e["default"]=c.exports},"756b":function(t,e,i){var a=i("2f33");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("890b2aec",a,!0,{sourceMap:!1,shadowMode:!1})},c916:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.CUser=void 0,i("96cf");var n=a(i("3b8d")),s=a(i("d225")),o=a(i("b0b4")),d=a(i("7835")),c=Date.parse(new Date)/1e3,r=function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,[{key:"info",value:function(){var t=uni.getStorageSync("token");if(t){var e=uni.getStorageSync("my");return e&&e.save_time+7200>c?e.data:d.default.get("/user/info").then(function(t){var e={};return e["data"]=t.data,e["save_time"]=c,uni.setStorageSync("my",e),t.data})}}},{key:"info_wait",value:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=uni.getStorageSync("my"),!(e.data&&e.data.headpic&&e.save_time+7200>c)){t.next=3;break}return t.abrupt("return",e.data);case 3:return t.abrupt("return",d.default.get("/user/info").then(function(t){var e={};return e["data"]=t.data,e["save_time"]=c,uni.setStorageSync("my",e),t.data}));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"reset_storage",value:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d.default.get("/user/info").then(function(t){var e={};return e["data"]=t.data,e["save_time"]=c,uni.setStorageSync("my",e),t.data}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),t}();e.CUser=r},d7c0:function(t,e,i){"use strict";var a=i("756b"),n=i.n(a);n.a},f3ad:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("f499"));i("96cf");var s=a(i("3b8d")),o=i("c916"),d=new o.CUser,c={data:function(){return{goods_money:0,content:"演示商品，请勿购买。如需测试支付功能，购买后不发货不退款",xieyi:!1,sku_id:"",head:"",is_kai:0,pid:"",is_pt:0,pt_data:"",coupon_id:0,save_cache:{},order_id:0,getimg:this.$getimg,maskState:0,desc:"",payType:1,yunfei_money:0,couponList:[],addressData:{},state:"",buy_data:"",address:"",paying:"",coupon_text:"选择优惠券",coupon_money:0,obj:{msg:"",order_from:"xcx",payment_type:"wx",total_price:"",shoping_price:"",coupon_price:"",coupon_id:0,discount:"",switch_list:"",invoice_switch:!1}}},onLoad:function(t){var e=this;if(this.state=t.state,this.switch_list=uni.getStorageSync("switch"),this.check_switch(),"buy"==t.state){var i=uni.getStorageSync("buy");this.buy_data=i}if("car"==t.state){var a=uni.getStorageSync("cart"),n=[],s={},o=0;for(var c in a){var r=a[c];console.log(c,r),r.radio?(n[o]=r,o++):s[c]=r}this.buy_data=n,this.save_cache=s}"如花商城商业版-授权"==this.buy_data[0].goods_name&&this.$api.http.get("index/get_file?type=3").then(function(t){e.content=t,e.xieyi=!0});var l=uni.getStorageSync("pid");l&&(this.pid=l,console.log(l),this.is_pt=1,this.get_pid(l));var u=d.info();this.head={avatarUrl:u.headpic},this.is_kai=uni.getStorageSync("is_kai"),uni.removeStorageSync("is_kai"),console.log("onLoad",this.buy_data),this._load(),this.js_goods_money()},onShow:function(){var t=this;this.$api.http.get("address/get_default_address").then(function(e){t.address=e.data})},computed:{pay_money:function(){return console.log("应付金额",this.goods_money,this.yunfei_money,this.coupon_money),this.goods_money+this.yunfei_money-this.coupon_money}},methods:{js_goods_money:function(){var t=this.buy_data;console.log("buy:",t);var e=0;for(var i in t){var a=t[i];e+=a.price*a.num,a.vip_price&&(e-=a.vip_price)}console.log("总价",e),this.goods_money=e},check_switch:function(){var t=this;t.invoice_switch=1==this.switch_list.is_invoice},_load:function(){var t=this;console.log("load"),this.$api.http.get("coupon/user/get_coupon").then(function(e){t.couponList=e.data}),this.get_yunfei()},jump_invoices:function(){uni.navigateTo({url:"/pages/invoices/invoices"})},get_pid:function(t){var e=this;this.$api.http.get("pt/get_one_item",{id:t}).then(function(t){e.pt_data=t.data,uni.removeStorageSync("pid")})},check_fx_pro:function(){var t=this.buy_data,e=!1;for(var i in t){var a=t[i];a.is_fx&&(e=!0)}return console.log("是否为分销订单：",e),e},get_yunfei:function(){var t=this;console.log("get_yunfei",this.buy_data);var e=this.buy_data,i=[];for(var a in e){var n=e[a];i[a]={},i[a]["goods_id"]=n.goods_id,i[a]["num"]=n.num,console.log("v:",i)}console.log("get_obj",i),this.$api.http.post("product/get_shipment_price",i).then(function(e){t.yunfei_money=e.data})},toggleMask:function(t){var e=this,i="show"===t?10:300,a="show"===t?1:0;this.maskState=2,setTimeout(function(){e.maskState=a},i)},to_use:function(t){this.maskState=0,this.coupon_id=this.couponList[t].id?this.couponList[t].id:0;var e=this.couponList[t].reduce;this.coupon_money=e,this.coupon_text="已优惠"+e+"元"},cancel_use:function(){this.maskState=0,this.coupon_id=0,this.coupon_money=0,this.coupon_text="选择优惠券"},numberChange:function(t){this.number=t.number},changePayType:function(t){this.payType=t},set_order_data:function(){var t=this,e=this.obj;for(var i in e.discount=0,t.buy_data){var a=t.buy_data[i];a.discount&&a.discount!=[]&&(e.discount=1)}e.total_price=this.pay_money,e.shoping_price=this.yunfei_money,e.coupon_price=this.coupon_money,e.coupon_id=this.coupon_id,e.goods_id=this.buy_data[0].goods_id,e.price=this.buy_data[0].price,e.num=this.buy_data[0].num,e.order_from=0,e.payment_type="xcx";var n=uni.getStorageSync("level_one");this.check_fx_pro()&&n&&(e.sfm=n),this.buy_data[0].pt&&(e.is_captain_sign=1),this.is_item=uni.getStorageSync("is_item"),this.is_item&&(e.item_id=this.pt_data.id,uni.removeStorageSync("is_item"));var s=this.buy_data,o={};for(var d in s){var c=s[d],r=c.goods_id;c.sku&&(r=c.goods_id+"-"+c.sku.id,this.sku_id=c.sku.id),o[r]=c,o[r].sku_id=0,c.sku&&(o[r].sku_id=c.sku.id),delete o[r].radio,delete o[r].sku,delete o[r].sku_name,delete o[r].goods_name}return e.json=o,console.log("obj",e),e},check_sub_data:function(){if(this.address){if(!this.paying){var t="";return t="order/create_cart",console.log("url:",t),t}}else this.$api.msg("未填写地址")},xy_approve:function(t){this.xieyi=!1,t||uni.navigateBack({})},submit:function(){var t=(0,s.default)(regeneratorRuntime.mark(function t(){var e,i,a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=uni.getStorageSync("is_item"),uni.removeStorageSync("is_item"),i=this.check_sub_data(),i){t.next=5;break}return t.abrupt("return");case 5:if(a=this.set_order_data(),console.log("submit:",a),""==this.sku_id?a.sku_id=0:a.sku_id=this.sku_id,n="",1!=this.is_kai){t.next=16;break}return a.is_captain_sign=1,t.next=13,this.$api.http.post("pt/create_pt_item",a).then(function(t){return t});case 13:n=t.sent,t.next=27;break;case 16:if(1!=e){t.next=24;break}return a.item_id=this.pid,a.is_captain_sign=1,t.next=21,this.$api.http.post("pt/create_pt",a).then(function(t){return t});case 21:n=t.sent,t.next=27;break;case 24:return t.next=26,this.$api.http.post(i,a).then(function(t){return t});case 26:n=t.sent;case 27:if(this.paying=!0,console.log("创建订单：",n),n.data){t.next=33;break}return this.$api.msg(n.msg),setTimeout(function(){uni.navigateBack({})},1e3),t.abrupt("return");case 33:"buy"==this.state?uni.removeStorageSync("buy"):(uni.removeStorageSync("cart"),uni.setStorageSync("cart",this.save_cache)),s=n.data,this.order_id=s,this.wxPay(s);case 37:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),wxPay:function(t){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",jsApiCall,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",jsApiCall),document.attachEvent("onWeixinJSBridgeReady",jsApiCall)):this.jsApiCall(t)},jsApiCall:function(t){var e=this;WeixinJSBridge.invoke("getBrandWCPayRequest",t,function(t){if(WeixinJSBridge.log("a:",t.err_msg),"get_brand_wcpay_request:ok"==t.err_msg)return e.$api.msg("支付成功!"),void uni.navigateTo({url:"../invite/invite?id="+e.pid});"get_brand_wcpay_request:cancel"==t.err_msg?e.$api.msg("取消支付"):e.$api.msg("支付失败"),setTimeout(function(){uni.redirectTo({url:"/pages/order/order"})},1e3)})},pay:function(t){var e=this.order_id;uni.requestPayment({provider:"wxpay",timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:function(t){console.log("success:",t),uni.redirectTo({url:"/pages/user/myorder/myorder?id="+e})},fail:function(t){console.log("fail:"+(0,n.default)(t)),uni.redirectTo({url:"/pages/user/myorder/myorder?id="+e})}})},app_pay:function(t){var e=this.order_id;uni.requestPayment({provider:"wxpay",orderInfo:(0,n.default)(t),success:function(t){console.log("success:",t),uni.redirectTo({url:"/pages/user/myorder/myorder?id="+e})},fail:function(t){console.log("fail:"+(0,n.default)(t)),uni.redirectTo({url:"/pages/user/myorder/myorder?id="+e})}})}},onPullDownRefresh:function(){setTimeout(function(){uni.stopPullDownRefresh()},2e3)}};e.default=c}}]);